<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Sawm" />
    <meta name="theme-color" content="#ffffff" />
    <meta name="description" content="Sawm - Prayer times and hydration recommendations for fasting" />
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon.png') }}" />
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='apple-touch-icon.png') }}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
    <title>Sawm</title>
</head>
<body>
    <header>
        <h1>Sawm</h1>
        <nav class="header-controls" aria-label="Site controls">
            <button class="settings-btn" id="settingsBtn" aria-label="Open settings" title="Settings">
                <i class="bx bxs-cog" aria-hidden="true"></i>
            </button>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme" title="Toggle dark/light mode">
                <i class="bx bxs-sun" aria-hidden="true"></i>
            </button>
        </nav>
    </header>

    <main>
        <section class="hero" aria-label="Prayer times">
            <div class="hero-times-container">
                <article class="hero-time-block">
                    <p class="hero-label">Suhoor</p>
                    <time class="hero-time">{{ suhoor }}</time>
                </article>
                <div class="hero-divider-vertical" aria-hidden="true"></div>
                <article class="hero-time-block">
                    <p class="hero-label">Iftar</p>
                    <time class="hero-time">{{ iftar }}</time>
                </article>
            </div>
        </section>

        <section class="hydration-callout" aria-label="Hydration recommendation">
            <p class="hydration-label">Recommended Water Intake</p>
            <p class="hydration-value">{{ hydration }}L</p>
            <div class="hydration-meta">
                <span class="meta-item">{{ temp }}°C</span>
                <span class="meta-separator" aria-hidden="true">•</span>
                <span class="meta-item">{{ humidity }}%</span>
            </div>
        </section>
    </main>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal" role="dialog" aria-labelledby="settingsTitle" aria-modal="true">
        <div class="modal-content">
            <header class="modal-header">
                <h2 id="settingsTitle">Settings</h2>
                <button class="close-btn" id="closeSettings" aria-label="Close settings">
                    <i class="bx bx-x" aria-hidden="true"></i>
                </button>
            </header>
            <div class="modal-body">
                <div class="settings-group">
                    <label class="settings-label" for="settingsLocation">Location</label>
                    <div class="location-input-wrapper">
                        <input type="text" id="settingsLocation" class="method-select" placeholder="City, Country" autocomplete="off" />
                        <button class="gps-btn" id="geolocateBtn" aria-label="Use current location" title="Use GPS">
                            <i class="bx bxs-map" aria-hidden="true"></i>
                        </button>
                    </div>
                </div>
                <div class="settings-group">
                    <label class="settings-label" for="settingsMethod">Calculation Method</label>
                    <select id="settingsMethod" class="method-select">
                        <option value="2">Islamic Society of North America</option>
                        <option value="3">University of Islamic Sciences, Karachi</option>
                        <option value="4">Umm Al-Qura University, Makkah</option>
                        <option value="5">Egyptian General Authority of Survey</option>
                        <option value="7">Al Falah, Kuwait</option>
                        <option value="8">Institute of Geophysics, University of Tehran</option>
                        <option value="9">Shia Ithna Ashari, Qum</option>
                        <option value="10">Kuwait</option>
                        <option value="11">Qatar</option>
                        <option value="12">Majlis Ugama Islam Singapura, Singapore</option>
                        <option value="13">Union Organization islamic de France</option>
                        <option value="14">Diyanet İşleri, Turkey</option>
                        <option value="15">JAKIM, Malaysia</option>
                        <option value="16">MUIS, Singapore</option>
                        <option value="17">ISNA, USA</option>
                        <option value="18">Morocco</option>
                        <option value="19">DKI Jakarta</option>
                        <option value="20">Tunisia</option>
                        <option value="21">Algeria</option>
                        <option value="22">KEMENAG, Indonesia</option>
                        <option value="23">MAWAQIT</option>
                        <option value="24">Singapore</option>
                        <option value="25">Hong Kong</option>
                        <option value="26">Bahrain</option>
                        <option value="27">France</option>
                        <option value="28">Darul Uloom Waqf, UK</option>
                    </select>
                </div>
                <button class="btn btn-small" id="updateLocationSettings">Save</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; <span id="year"></span> Sawm by <a href="https://github.com/iamrayyaann" target="_blank" rel="noopener noreferrer">@iamrayyaann</a></p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>