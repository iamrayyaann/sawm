<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="preconnect" href="https://cdn.jsdelivr.net" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}" />
    <title>Sawm</title>
    <style>
        @font-face {
            font-family: '0xProto';
            src: url('https://cdn.jsdelivr.net/npm/0xproto@1.0.0/fonts/0xProto-Regular.woff2') format('woff2');
            font-weight: 400;
            font-display: swap;
        }
        @font-face {
            font-family: '0xProto';
            src: url('https://cdn.jsdelivr.net/npm/0xproto@1.0.0/fonts/0xProto-Bold.woff2') format('woff2');
            font-weight: 600;
            font-display: swap;
        }
        @font-face {
            font-family: '0xProto';
            src: url('https://cdn.jsdelivr.net/npm/0xproto@1.0.0/fonts/0xProto-ExtraBold.woff2') format('woff2');
            font-weight: 700;
            font-display: swap;
        }
    </style>
</head>
<body>
    <header>
        <h1>Sawm</h1>
        <div class="header-controls">
            <button class="settings-btn" id="settingsBtn">
                <i class="bx bxs-cog"></i>
            </button>
            <button class="theme-toggle" id="themeToggle">
                <i class="bx bxs-sun"></i>
            </button>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="hero-times-container">
                <div class="hero-time-block">
                    <div class="hero-label">Suhoor</div>
                    <div class="hero-time">{{ suhoor }}</div>
                </div>
                <div class="hero-divider-vertical"></div>
                <div class="hero-time-block">
                    <div class="hero-label">Iftar</div>
                    <div class="hero-time">{{ iftar }}</div>
                </div>
            </div>
        </section>

        <div class="hydration-callout">
            <div class="hydration-label">Recommended Water Intake</div>
            <div class="hydration-value">{{ hydration }}L</div>
            <div class="hydration-meta">
                <span class="meta-item">{{ temp }}°C</span>
                <span class="meta-separator">•</span>
                <span class="meta-item">{{ humidity }}%</span>
            </div>
        </div>
    </main>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button class="close-btn" id="closeSettings">
                    <i class="bx bxs-x-circle"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="settings-group">
                    <label class="settings-label">Location</label>
                    <div class="location-input-wrapper">
                        <input type="text" id="settingsLocation" class="method-select" placeholder="City, Country" />
                        <button class="gps-btn" id="geolocateBtn" title="Use current location">
                            <i class="bx bxs-map"></i>
                        </button>
                    </div>
                </div>
                <div class="settings-group">
                    <label class="settings-label">Calculation Method</label>
                    <select id="settingsMethod" class="method-select">
                        <option value="2">Islamic Society of North America</option>
                        <option value="3">University of Islamic Sciences, Karachi</option>
                        <option value="4">Umm Al-Qura University, Makkah</option>
                        <option value="5">Egyptian General Authority of Survey</option>
                        <option value="7">Al Falah, Kuwait</option>
                        <option value="8">Institute of Geophysics, University of Tehran</option>
                        <option value="9">Shia Ithna Ashari, Qum</option>
                        <option value="10">Kuwait</option>
                        <option value="11">Qatar</option>
                        <option value="12">Majlis Ugama Islam Singapura, Singapore</option>
                        <option value="13">Union Organization islamic de France</option>
                        <option value="14">Diyanet İşleri, Turkey</option>
                        <option value="15">JAKIM, Malaysia</option>
                        <option value="16">MUIS, Singapore</option>
                        <option value="17">ISNA, USA</option>
                        <option value="18">Morocco</option>
                        <option value="19">DKI Jakarta</option>
                        <option value="20">Tunisia</option>
                        <option value="21">Algeria</option>
                        <option value="22">KEMENAG, Indonesia</option>
                        <option value="23">MAWAQIT</option>
                        <option value="24">Singapore</option>
                        <option value="25">Hong Kong</option>
                        <option value="26">Bahrain</option>
                        <option value="27">France</option>
                        <option value="28">Darul Uloom Waqf, UK</option>
                    </select>
                </div>
                <button class="btn btn-small" id="updateLocationSettings">Save</button>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; <span id="year"></span> Sawm by <a href="https://github.com/iamrayyaann" target="_blank">@iamrayyaann</a></p>
    </footer>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>